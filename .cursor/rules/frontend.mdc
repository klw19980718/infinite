---
alwaysApply: true
---


## Next 15 / React 19
- App Router；优先 Server Components，数据获取在服务端。
- 仅在需要交互时使用 Client Component；避免把全页标为 client。
- 动画用 Framer Motion（仅在必要时）；避免滥用 viewport/scroll 观察器。

## 组件与目录
- 通用组件：放 /components/ui（shadcn 风格），复用优先。
- 页面专用块：放 /components/home 等子目录；不要混入 ui。
- 命名：PascalCase 文件名；导出默认组件名与文件名一致。
- **首页结构**：`components/home/hero.tsx` 包含完整的 TalkingPhotoLayout 和 Tabs，图片转视频功能已整合到首页，不再使用独立的 `/infinite-talk-ai/image-to-video` 页面。

## Tailwind v4
- 使用 `@tailwind base; components; utilities;`；样式只写在组件中。
- 类名合并用 `cn(...)`（见 `@/lib/utils`）；避免内联 style。
- 不写全局 CSS reset/主题以外的样式；不创建多套设计系统。

## shadcn / Radix
- 使用 shadcn 生成的 UI 原子（Button/Card/Input/Dialog 等）。
- 若新增组件：先 `npx shadcn add <name>`，再在 `/components/ui` 内做最小改造。
- 无障碍：确保可聚焦/键盘可用；Radix 组件按官方模式封装。

## 图片与资源
- 一律使用 `next/image`；设置 `sizes` 与合理 `priority`（仅首屏）。
- SVG 图标：Lucide / React Icons；不要随意引第三个图标库。

## iOS 设计规范
- **视觉层次**：使用清晰的视觉层次，重要内容突出，次要内容弱化。
- **间距与留白**：遵循 8pt 网格系统，使用一致的间距（4px、8px、16px、24px、32px 等）。
- **圆角设计**：卡片和按钮使用适当的圆角（通常 12px-16px），避免过于尖锐或过于圆润。
- **触摸目标**：交互元素最小尺寸 44×44px，确保易于点击。
- **动画与过渡**：使用流畅的动画（duration: 200-300ms，easing: ease-in-out），避免突兀的跳转。
- **毛玻璃效果**：适当使用 `backdrop-filter: blur()` 和半透明背景，营造层次感。
- **阴影与深度**：使用微妙的阴影（`box-shadow`）来区分层级，避免过度使用。
- **字体与排版**：使用系统字体栈，确保良好的可读性；标题使用 `font-weight: 600`，正文使用 `font-weight: 400`。
- **颜色对比度**：确保文本与背景的对比度符合 WCAG AA 标准（至少 4.5:1）。
- **卡片式布局**：使用卡片容器组织内容，保持一致的 padding 和 border-radius。
- **状态反馈**：交互元素应有明确的 hover、active、focus 状态反馈。

## 移动端响应式设计
- **断点策略**：使用 Tailwind 默认断点（sm: 640px, md: 768px, lg: 1024px, xl: 1280px）。
- **布局适配**：
  - 移动端优先：默认样式针对移动端，使用 `sm:`, `md:`, `lg:` 前缀适配更大屏幕。
  - 弹窗宽度：移动端使用 `w-[95vw]` 或 `max-w-[95vw]`，桌面端使用 `sm:w-full` 或固定宽度。
  - 网格布局：移动端单列（`grid-cols-1`），平板双列（`sm:grid-cols-2`），桌面多列（`md:grid-cols-3` 或 `lg:grid-cols-4`）。
- **文本处理**：
  - 使用 `truncate` 防止文本溢出，配合 `min-w-0` 确保 flex 容器内文本正确截断。
  - 移动端使用较小字号（`text-xs`），桌面端使用正常字号（`sm:text-sm` 或 `sm:text-base`）。
- **按钮与控件**：
  - 移动端使用较小尺寸（`h-9 px-2`），桌面端使用标准尺寸（`sm:h-10 sm:px-3`）。
  - 使用 `flex-wrap` 允许控件在空间不足时换行。
  - 图标尺寸：移动端 `h-3.5 w-3.5`，桌面端 `sm:h-4 sm:w-4`。
- **间距调整**：
  - 移动端使用较小间距（`gap-2`），桌面端使用标准间距（`sm:gap-3` 或 `sm:gap-4`）。
  - 垂直布局：移动端使用 `flex-col`，桌面端使用 `sm:flex-row`。
- **滚动与溢出**：
  - 使用 `overflow-y-auto` 和 `custom-scrollbar` 类处理长列表。
  - 设置合理的 `min-h` 和 `max-h` 防止内容区域过大或过小。
